{% extends "base.html" %} {% block content %}
<div class="prenota-container">
  <h1>Prenota il tuo Pasto</h1>

  <div class="menu-preview">
    <h2>Menu del {{ menu.data.strftime('%A %d/%m/%Y') }}</h2>

    <div class="menu-detail">
      <span class="menu-label">Primo:</span>
      <span>{{ menu.primo }}</span>
    </div>

    <div class="menu-detail">
      <span class="menu-label">Secondo:</span>
      <span>{{ menu.secondo }}</span>
    </div>

    <div class="menu-detail">
      <span class="menu-label">Contorno:</span>
      <span>{{ menu.contorno }}</span>
    </div>

    {% if menu.frutta %}
    <div class="menu-detail">
      <span class="menu-label">Frutta:</span>
      <span>{{ menu.frutta }}</span>
    </div>
    {% endif %} {% if menu.dolce %}
    <div class="menu-detail">
      <span class="menu-label">Dolce:</span>
      <span>{{ menu.dolce }}</span>
    </div>
    {% endif %}
  </div>

  <div class="prezzo-totale">Totale: €{{ "%.2f"|format(menu.prezzo) }}</div>

  <div class="form-container">
    <h2>Dettagli Prenotazione</h2>

    <form action="" method="post">
      {{ form.hidden_tag() }}

      <div class="form-group">
        {{ form.orario_ritiro.label }} {{ form.orario_ritiro() }} {% for error
        in form.orario_ritiro.errors %}
        <div class="error">{{ error }}</div>
        {% endfor %}
        <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #7f8c8d">
          Seleziona l'orario in cui desideri ritirare il tuo pasto
        </p>
      </div>

      <div class="form-group">
        {{ form.note.label }} {{ form.note() }} {% for error in form.note.errors
        %}
        <div class="error">{{ error }}</div>
        {% endfor %}
        <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #7f8c8d">
          Inserisci eventuali allergie, intolleranze o richieste speciali
        </p>
      </div>

      <div class="form-group">{{ form.submit(class="submit-btn") }}</div>
    </form>

    <div style="text-align: center; margin-top: 1rem">
      <a href="{{ url_for('index') }}" class="btn">← Torna ai Menu</a>
    </div>
  </div>
</div>

{% endblock %}
